---
name: withProps
menu: API
route: /utils/tests/with-props
---

# withProps

`withProps` est un HOC permettant d'appliquer facilement des props et/ou de la logique métier à un composant visuel

## Utilisation simple

Utiliser cette écriture si vous n'avez pas besoin d'accéder aux props posé sur le composant.

```jsx
import MyComponent from './MyComponent'

const MyDecoratedComponent = withProps({
  prop1: 'value1',
  prop2: 'value2',
})(MyComponent)


<MyDecoratedComponent prop3="value3" />
//Same as
<MyComponent prop1="value1" prop2="value2" prop3="value3" />
```

- Les propriétés de l'objet donné à `withProps` sont posées sur le composant initial.
- Les propriétés posées sur le composant produit sont également transférées au composant inital.
- Lorsqu'il y a conflit sur ces propriétés, ce sont les propriétés posées par `withProps` qui prennent le pas.

## Utilisation avancée

Utiliser cette écriture si vous avez besoin d'accéder aux props posées sur le composant ou que vous souhaitez utiliser des hooks.

```jsx
import { useState } from 'react'
import MyComponent from './MyComponent'

const MyDecoratedComponent = withProps(incomingProps => {
  const [state, setState] = useState('stateValue')

  return {
    prop1: 'value1' + incomingProps.prop3,
    state,
    onChange: setState,
  }
})(MyComponent)


<MyDecoratedComponent prop3="value3" />
//Same as
const [state, setState] = useState('stateValue')
<MyComponent prop1="value1value3" prop3="value3" state={state} onChange={setState} />
```

- Les propriétés de l'objet retourné par la fonction donnée à `withProps` sont posées sur le composant initial.
- Les propriétés posées sur le composant produit sont également transférées au composant inital.
- Lorsqu'il y a conflit sur les propriétés, ce sont les propriété posées par `withProps` qui prennent le pas.

## Refs

Le HOC propage aussi les refs (https://fr.reactjs.org/docs/forwarding-refs.html).
